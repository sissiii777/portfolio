# å›¾ç‰‡åŠ è½½ä¼˜åŒ–æ–¹æ¡ˆï¼ˆé™¤Lazy Loadingå¤–ï¼‰

## ğŸ¯ æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥

### 1. **å›¾ç‰‡æ ¼å¼ä¼˜åŒ– - WebP/AVIF** â­â­â­â­â­
**æ•ˆæœ**: å¯å‡å°‘ 50-80% æ–‡ä»¶å¤§å°

#### å®ç°æ–¹æ³•ï¼š
```html
<!-- ä½¿ç”¨ <picture> æ ‡ç­¾æä¾›å¤šç§æ ¼å¼ -->
<picture>
  <source srcset="Photo/LLM/main.webp" type="image/webp">
  <source srcset="Photo/LLM/main.avif" type="image/avif">
  <img src="Photo/LLM/main.png" alt="LLM Main" loading="lazy">
</picture>
```

#### é’ˆå¯¹ä½ çš„ä»£ç ï¼š
**LLM.html** - é¦–å±èƒŒæ™¯å›¾ä¼˜åŒ–ï¼š
```html
<!-- æ›¿æ¢ç¬¬225è¡Œçš„èƒŒæ™¯å›¾ -->
.landing-container {
    background: #000000;
    background-image: 
        image-set(
            url('Photo/LLM/main.webp') type('image/webp'),
            url('Photo/LLM/main.png') type('image/png')
        );
    background-size: cover;
    background-position: center;
}
```

**è½¬æ¢å·¥å…·**:
- Squoosh (https://squoosh.app/) - åœ¨çº¿è½¬æ¢
- `cwebp` å‘½ä»¤è¡Œå·¥å…·
- ImageMagick

---

### 2. **å“åº”å¼å›¾ç‰‡ - srcset** â­â­â­â­â­
**æ•ˆæœ**: ç§»åŠ¨ç«¯åŠ è½½å°å›¾ï¼Œæ¡Œé¢ç«¯åŠ è½½å¤§å›¾ï¼ŒèŠ‚çœå¸¦å®½

#### å®ç°æ–¹æ³•ï¼š
```html
<!-- ä¸ºä¸åŒå±å¹•å°ºå¯¸æä¾›ä¸åŒå¤§å°çš„å›¾ç‰‡ -->
<img 
    src="Photo/LLM/LLM1.png" 
    srcset="
        Photo/LLM/LLM1-small.png 480w,
        Photo/LLM/LLM1-medium.png 768w,
        Photo/LLM/LLM1-large.png 1200w,
        Photo/LLM/LLM1-xlarge.png 1920w
    "
    sizes="(max-width: 480px) 100vw, (max-width: 768px) 100vw, (max-width: 1200px) 100vw, 1920px"
    alt="LLM 1" 
    class="project-image fade-in-on-scroll"
    loading="lazy"
>
```

#### é’ˆå¯¹ä½ çš„ä»£ç ï¼š
**index.html** - é¡¹ç›®å¡ç‰‡ä¼˜åŒ–ï¼š
```html
<!-- æ›¿æ¢ project1.png (18.67MB) -->
<div class="project-image">
    <img 
        src="project1-small.png" 
        srcset="
            project1-small.webp 480w,
            project1-medium.webp 768w,
            project1-large.webp 1200w
        "
        sizes="(max-width: 768px) 100vw, 50vw"
        alt="æ‰‹åŠ¿è¯†åˆ«å¯¼èˆªç³»ç»Ÿ"
        loading="lazy"
    >
</div>
```

---

### 3. **å›¾ç‰‡å‹ç¼©** â­â­â­â­â­
**æ•ˆæœ**: å‡å°‘ 60-90% æ–‡ä»¶å¤§å°ï¼Œå‡ ä¹ä¸å½±å“è§†è§‰è´¨é‡

#### å‹ç¼©ç­–ç•¥ï¼š
1. **PNGå‹ç¼©**: 
   - TinyPNG (https://tinypng.com/)
   - ImageOptim (Mac)
   - pngquant å‘½ä»¤è¡Œ

2. **JPEGå‹ç¼©**:
   - è´¨é‡è®¾ç½®ä¸º 80-85%
   - ä½¿ç”¨ mozjpeg ç¼–ç å™¨

3. **æ‰¹é‡å‹ç¼©è„šæœ¬**:
```bash
# ä½¿ç”¨ ImageMagick æ‰¹é‡å‹ç¼©
for file in Photo/**/*.png; do
    convert "$file" -quality 85 -strip "${file%.png}_compressed.png"
done
```

#### ç›®æ ‡å¤§å°ï¼š
- é¦–å±å›¾ç‰‡: < 300KB
- å†…å®¹å›¾ç‰‡: < 500KB
- Galleryå›¾ç‰‡: < 1MB

---

### 4. **æ¨¡ç³Šå ä½ç¬¦ (Blur Placeholder)** â­â­â­â­
**æ•ˆæœ**: ç«‹å³æ˜¾ç¤ºä½è´¨é‡é¢„è§ˆï¼Œæå‡æ„ŸçŸ¥æ€§èƒ½

#### å®ç°æ–¹æ³•ï¼š
```html
<!-- ä½¿ç”¨ä½è´¨é‡å ä½ç¬¦ -->
<img 
    src="Photo/LLM/LLM1-placeholder.jpg" 
    data-src="Photo/LLM/LLM1.png"
    class="project-image blur-load"
    alt="LLM 1"
    loading="lazy"
>

<style>
.blur-load {
    filter: blur(10px);
    transition: filter 0.3s;
}
.blur-load.loaded {
    filter: blur(0);
}
</style>

<script>
// åŠ è½½å®Œæˆåæ›¿æ¢
document.querySelectorAll('.blur-load').forEach(img => {
    const fullImage = new Image();
    fullImage.src = img.dataset.src;
    fullImage.onload = () => {
        img.src = fullImage.src;
        img.classList.add('loaded');
    };
});
</script>
```

#### ç”Ÿæˆå ä½ç¬¦ï¼š
- ä½¿ç”¨åŸå›¾çš„ 1/20 å¤§å°ç‰ˆæœ¬
- æˆ–ä½¿ç”¨ Base64 ç¼–ç çš„å°å›¾

---

### 5. **æ¸è¿›å¼JPEG (Progressive JPEG)** â­â­â­
**æ•ˆæœ**: å›¾ç‰‡é€æ­¥æ˜¾ç¤ºï¼Œæå‡æ„ŸçŸ¥æ€§èƒ½

#### å®ç°æ–¹æ³•ï¼š
ä¿å­˜JPEGæ—¶é€‰æ‹©"Progressive"é€‰é¡¹ï¼š
- Photoshop: ä¿å­˜ä¸ºWebæ—¶é€‰æ‹©"Progressive"
- ImageMagick: `convert input.jpg -interlace Plane output.jpg`

---

### 6. **é¢„åŠ è½½ç­–ç•¥ä¼˜åŒ–** â­â­â­â­
**æ•ˆæœ**: åªé¢„åŠ è½½å…³é”®èµ„æºï¼Œä¸é˜»å¡é¦–å±

#### å½“å‰é—®é¢˜ï¼š
spotlight.html é¢„åŠ è½½äº†9å¼ å›¾ç‰‡ï¼Œå…¶ä¸­å¤šå¼ è¶…è¿‡2MB

#### ä¼˜åŒ–æ–¹æ¡ˆï¼š
```html
<!-- åªé¢„åŠ è½½é¦–å±å…³é”®å›¾ç‰‡ -->
<link rel="preload" as="image" href="Photo/Spotlight/main.webp" fetchpriority="high">

<!-- å…¶ä»–å›¾ç‰‡ä½¿ç”¨prefetchï¼ˆä½ä¼˜å…ˆçº§ï¼‰ -->
<link rel="prefetch" as="image" href="Photo/Spotlight/eye1.webp">
<link rel="prefetch" as="image" href="Photo/Spotlight/eye2.webp">
```

#### ä¼˜å…ˆçº§è§„åˆ™ï¼š
- `fetchpriority="high"`: ä»…é¦–å±å…³é”®å›¾ç‰‡ï¼ˆ1-2å¼ ï¼‰
- `preload`: é¦–å±å¯è§ä½†éå…³é”®
- `prefetch`: å¯èƒ½éœ€è¦çš„èµ„æºï¼ˆä½ä¼˜å…ˆçº§ï¼‰

---

### 7. **ä½¿ç”¨CSSèƒŒæ™¯å›¾æ›¿ä»£imgæ ‡ç­¾** â­â­â­
**æ•ˆæœ**: æŸäº›åœºæ™¯ä¸‹å¯ä»¥æ›´å¥½åœ°æ§åˆ¶åŠ è½½

#### é€‚ç”¨åœºæ™¯ï¼š
- è£…é¥°æ€§å›¾ç‰‡
- å“åº”å¼èƒŒæ™¯å›¾

#### å®ç°æ–¹æ³•ï¼š
```css
/* ä½¿ç”¨ image-set æä¾›å¤šç§æ ¼å¼ */
.hero-background {
    background-image: 
        image-set(
            url('Photo/LLM/main.webp') type('image/webp') 1x,
            url('Photo/LLM/main@2x.webp') type('image/webp') 2x,
            url('Photo/LLM/main.png') type('image/png') 1x
        );
    background-size: cover;
    background-position: center;
}

/* åª’ä½“æŸ¥è¯¢ä¼˜åŒ– */
@media (max-width: 768px) {
    .hero-background {
        background-image: url('Photo/LLM/main-mobile.webp');
    }
}
```

---

### 8. **å›¾ç‰‡å°ºå¯¸ä¼˜åŒ–** â­â­â­â­â­
**æ•ˆæœ**: åªåŠ è½½éœ€è¦çš„å°ºå¯¸ï¼Œå¤§å¹…å‡å°‘æ–‡ä»¶å¤§å°

#### é—®é¢˜åˆ†æï¼š
- `project1.png` 18.67MBï¼Œä½†æ˜¾ç¤ºå°ºå¯¸å¯èƒ½åªæœ‰ 400x300px
- åº”è¯¥æä¾›å®é™…æ˜¾ç¤ºå°ºå¯¸çš„å›¾ç‰‡

#### å®ç°æ–¹æ³•ï¼š
```html
<!-- æ ¹æ®å®é™…æ˜¾ç¤ºå°ºå¯¸æä¾›å›¾ç‰‡ -->
<!-- å¦‚æœæ˜¾ç¤ºä¸º 400x300ï¼Œå°±æä¾› 400x300 çš„å›¾ç‰‡ï¼Œè€Œä¸æ˜¯åŸå§‹å¤§å›¾ -->
<img 
    src="project1-400x300.webp" 
    alt="Project 1"
    width="400"
    height="300"
    loading="lazy"
>
```

#### å·¥å…·ï¼š
- ä½¿ç”¨ Photoshop/GIMP è°ƒæ•´å°ºå¯¸
- æˆ–ä½¿ç”¨è„šæœ¬æ‰¹é‡è°ƒæ•´ï¼š
```python
from PIL import Image
import os

def resize_images(input_dir, max_width=1920, quality=85):
    for root, dirs, files in os.walk(input_dir):
        for file in files:
            if file.lower().endswith(('.png', '.jpg', '.jpeg')):
                path = os.path.join(root, file)
                img = Image.open(path)
                if img.width > max_width:
                    ratio = max_width / img.width
                    new_size = (max_width, int(img.height * ratio))
                    img = img.resize(new_size, Image.Resampling.LANCZOS)
                    img.save(path, optimize=True, quality=quality)
```

---

### 9. **ä½¿ç”¨CDNå’ŒHTTP/2 Server Push** â­â­â­
**æ•ˆæœ**: åŠ é€Ÿèµ„æºåŠ è½½

#### å®ç°æ–¹æ³•ï¼š
```html
<!-- ä½¿ç”¨CDN -->
<link rel="dns-prefetch" href="https://cdn.example.com">
<link rel="preconnect" href="https://cdn.example.com" crossorigin>

<img src="https://cdn.example.com/Photo/LLM/main.webp" alt="LLM">
```

---

### 10. **Intersection Observerä¼˜åŒ–** â­â­â­â­
**æ•ˆæœ**: æ›´ç²¾ç¡®çš„æ‡’åŠ è½½æ§åˆ¶

#### å®ç°æ–¹æ³•ï¼š
```javascript
// æ›´ç²¾ç¡®çš„æ‡’åŠ è½½å®ç°
const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const img = entry.target;
            const src = img.dataset.src;
            
            // åˆ›å»ºæ–°å›¾ç‰‡å¯¹è±¡é¢„åŠ è½½
            const imageLoader = new Image();
            imageLoader.src = src;
            imageLoader.onload = () => {
                img.src = src;
                img.classList.add('loaded');
            };
            
            observer.unobserve(img);
        }
    });
}, {
    rootMargin: '50px', // æå‰50pxå¼€å§‹åŠ è½½
    threshold: 0.01
});

// è§‚å¯Ÿæ‰€æœ‰éœ€è¦æ‡’åŠ è½½çš„å›¾ç‰‡
document.querySelectorAll('img[data-src]').forEach(img => {
    imageObserver.observe(img);
});
```

---

### 11. **ä½¿ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼ - AVIF** â­â­â­â­
**æ•ˆæœ**: æ¯”WebPæ›´å°ï¼Œè´¨é‡æ›´å¥½

#### å®ç°æ–¹æ³•ï¼š
```html
<picture>
    <source srcset="Photo/LLM/main.avif" type="image/avif">
    <source srcset="Photo/LLM/main.webp" type="image/webp">
    <img src="Photo/LLM/main.png" alt="LLM Main">
</picture>
```

#### æµè§ˆå™¨æ”¯æŒï¼š
- Chrome 85+
- Firefox 93+
- Safari 16+

---

### 12. **å›¾ç‰‡Spritesï¼ˆå°å›¾æ ‡ï¼‰** â­â­
**æ•ˆæœ**: å‡å°‘HTTPè¯·æ±‚

#### é€‚ç”¨åœºæ™¯ï¼š
- å°å›¾æ ‡
- é‡å¤ä½¿ç”¨çš„è£…é¥°å…ƒç´ 

---

## ğŸ“‹ é’ˆå¯¹ä½ çš„ä»£ç çš„å…·ä½“ä¼˜åŒ–å»ºè®®

### LLM.html ä¼˜åŒ–ç¤ºä¾‹ï¼š

**å½“å‰ä»£ç **ï¼ˆç¬¬101-102è¡Œï¼‰ï¼š
```html
<img src="Photo/LLM/LLM1.png" alt="LLM 1" class="project-image fade-in-on-scroll">
<img src="Photo/LLM/LLM2.png" alt="LLM 2" class="project-image fade-in-on-scroll">
```

**ä¼˜åŒ–å**ï¼š
```html
<picture>
    <source srcset="Photo/LLM/LLM1.webp" type="image/webp">
    <img 
        src="Photo/LLM/LLM1-compressed.png" 
        alt="LLM 1" 
        class="project-image fade-in-on-scroll"
        loading="lazy"
        width="1400"
        height="800"
    >
</picture>
<picture>
    <source srcset="Photo/LLM/LLM2.webp" type="image/webp">
    <img 
        src="Photo/LLM/LLM2-compressed.png" 
        alt="LLM 2" 
        class="project-image fade-in-on-scroll"
        loading="lazy"
        width="1400"
        height="800"
    >
</picture>
```

### index.html é¡¹ç›®å¡ç‰‡ä¼˜åŒ–ï¼š

**å½“å‰ä»£ç **ï¼ˆç¬¬123è¡Œï¼‰ï¼š
```html
<img src="project1.png" alt="">
```

**ä¼˜åŒ–å**ï¼š
```html
<picture>
    <source 
        media="(max-width: 768px)"
        srcset="project1-mobile.webp 480w, project1-mobile@2x.webp 960w"
        type="image/webp"
    >
    <source 
        srcset="project1.webp 1200w, project1@2x.webp 2400w"
        type="image/webp"
    >
    <img 
        src="project1-compressed.png" 
        alt="æ‰‹åŠ¿è¯†åˆ«å¯¼èˆªç³»ç»Ÿ"
        loading="lazy"
        width="1200"
        height="675"
    >
</picture>
```

### spotlight.html é¢„åŠ è½½ä¼˜åŒ–ï¼š

**å½“å‰ä»£ç **ï¼ˆç¬¬9-22è¡Œï¼‰ï¼š
```html
<link rel="preload" as="image" href="Photo/Spotlight/main.png">
<link rel="preload" as="image" href="Photo/Spotlight/logo.png">
<!-- ... è¿˜æœ‰7å¼ å›¾ç‰‡ -->
```

**ä¼˜åŒ–å**ï¼š
```html
<!-- åªé¢„åŠ è½½é¦–å±å…³é”®å›¾ç‰‡ -->
<link rel="preload" as="image" href="Photo/Spotlight/main.webp" fetchpriority="high">

<!-- å…¶ä»–ä½¿ç”¨prefetchï¼ˆä½ä¼˜å…ˆçº§ï¼‰ -->
<link rel="prefetch" as="image" href="Photo/Spotlight/logo.webp">
<link rel="prefetch" as="image" href="Photo/Spotlight/code.webp">
<!-- ... -->
```

---

## ğŸ› ï¸ å®æ–½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå›¾ç‰‡å‹ç¼©å’Œæ ¼å¼è½¬æ¢
1. ä½¿ç”¨ TinyPNG æˆ– Squoosh å‹ç¼©æ‰€æœ‰å›¾ç‰‡
2. è½¬æ¢ä¸º WebP æ ¼å¼
3. ç”Ÿæˆå“åº”å¼å°ºå¯¸ç‰ˆæœ¬

### ç¬¬äºŒæ­¥ï¼šä»£ç ä¼˜åŒ–
1. æ·»åŠ  `<picture>` æ ‡ç­¾
2. æ·»åŠ  `loading="lazy"`
3. ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥

### ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•
1. ä½¿ç”¨ Chrome DevTools Network é¢æ¿æµ‹è¯•
2. ä½¿ç”¨ Lighthouse æµ‹è¯•æ€§èƒ½
3. åœ¨ä¸åŒè®¾å¤‡ä¸Šæµ‹è¯•

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

| ä¼˜åŒ–æ–¹æ³• | æ–‡ä»¶å¤§å°å‡å°‘ | åŠ è½½æ—¶é—´å‡å°‘ |
|---------|------------|------------|
| WebPæ ¼å¼ | 50-80% | 50-80% |
| å›¾ç‰‡å‹ç¼© | 60-90% | 60-90% |
| å“åº”å¼å›¾ç‰‡ | 40-70% (ç§»åŠ¨ç«¯) | 40-70% |
| å°ºå¯¸ä¼˜åŒ– | 70-95% | 70-95% |
| **ç»¼åˆä¼˜åŒ–** | **80-95%** | **80-95%** |

---

## ğŸ¯ ä¼˜å…ˆçº§å»ºè®®

1. **ç«‹å³æ‰§è¡Œ**:
   - å‹ç¼©è¶…å¤§å›¾ç‰‡ï¼ˆ>5MBï¼‰
   - è½¬æ¢ä¸ºWebPæ ¼å¼
   - æ·»åŠ lazy loading

2. **å°½å¿«æ‰§è¡Œ**:
   - å®ç°å“åº”å¼å›¾ç‰‡
   - ä¼˜åŒ–é¢„åŠ è½½ç­–ç•¥
   - æ·»åŠ æ¨¡ç³Šå ä½ç¬¦

3. **åç»­ä¼˜åŒ–**:
   - ä½¿ç”¨AVIFæ ¼å¼
   - å®ç°Intersection Observer
   - ä½¿ç”¨CDN

